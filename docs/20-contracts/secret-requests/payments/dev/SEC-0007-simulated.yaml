apiVersion: goldenpath.io/v1
kind: SecretRequest
type: secret_request
id: SEC-0007
title: "Payments DB Credentials"
status: active
owner: app-team
metadata:
  name: payments-db-credentials
  service: payments
  environment: dev
spec:
  provider: aws-secrets-manager
  secretType: database-credentials
  risk:
    tier: medium
  rotation:
    rotationClass: standard
  lifecycle:
    status: active
  access:
    namespace: payments
    k8sSecretName: payments-db-creds
    # New principal hooks mapped from TFVARS
    readPrincipals:
      - "arn:aws:iam::593517239005:role/goldenpath-idp-eso-role"
    writePrincipals:
      - "arn:aws:iam::593517239005:role/github-actions-secrets-writer"
    breakGlassPrincipals:
      - "arn:aws:iam::593517239005:role/platform-admin"
  ttlDays: 30
