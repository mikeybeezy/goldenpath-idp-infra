---
id: ADR-0118-config-driven-metadata-governance
title: Config-Driven Metadata Governance Architecture
type: adr
risk_profile:
  production_impact: low
  security_risk: none
  coupling_risk: high
reliability:
  rollback_strategy: git-revert
  observability_tier: silver
lifecycle: active
version: 1.0
relates_to:
  - CONFIG_DRIVEN_METADATA
  - schemas/metadata
date: 2026-01-06
supported_until: 2028-01-06
breaking_change: false
---

# ADR-0118: Config-Driven Metadata Governance Architecture

## Context
The platform's metadata standardization and validation logic was previously hardcoded in monolithic Python scripts. This created a maintenance bottleneck where architectural changes required code deployments.

## Decision
We will transition to a **Config-Driven Architecture** where YAML schemas serve as the control plane for all metadata operations.

### 1. Schema-First Engine
The scripts (`standardize_metadata.py`, `validate_metadata.py`, `backfill_metadata.py`) will be refactored to consume a shared library (`metadata_config.py`).

### 2. Dynamic Skeleton Generation
The "Golden Skeleton" for new files will no longer be a hardcoded dictionary. Instead, it will be dynamically generated by iterating through the `properties` of the relevant `.schema.yaml` file and pulling defaults.

### 3. Enum-Backed Validation
All field values will be validated against the canonical [`enums.yaml`](file:///Users/mikesablaze/goldenpath-idp-infra/schemas/metadata/enums.yaml), ensuring cross-repository consistency.

## Consequences

### Positive
- **Agility**: Governance changes (new required fields, new owner teams) are now data-only updates.
- **Auditability**: The schemas themselves provide a human-readable definition of the platform's metadata standards.
- **Consistency**: Centralizing the logic in a shared library prevents drift between different types of scripts.

### Negative
- **Abstraction**: The scripts become more complex to debug as they are decoupled from a fixed structure.
- **Schema Fragility**: Missing or malformed schemas could break repository-wide automation.
