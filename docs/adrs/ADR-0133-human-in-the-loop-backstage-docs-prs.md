---
id: ADR-0133
title: 'ADR-0133: Human-in-the-Loop PRs for Backstage Docs Generation'
type: adr
domain: platform-core
reliability:
  rollback_strategy: git-revert
  observability_tier: silver
lifecycle: active
version: 1.0
relates_to:
  - ADR-0111
  - ADR-0112
  - CL-0093
supported_until: 2028-01-09
breaking_change: false
---

# ADR-0133: Human-in-the-Loop PRs for Backstage Docs Generation

- **Status:** Accepted
- **Date:** 2026-01-09
- **Owners:** `platform-team`
- **Decision type:** Governance | Operations

---

## Context

Backstage documentation entities are generated by
`scripts/generate_backstage_docs.py`. Today this step is run manually, which
creates drift risk between the docs (`docs/`) and the Backstage catalog
(`backstage-helm/catalog/docs/`).

Fully automated commits without review are not acceptable under the platform's
Human-in-the-Loop policy, especially for governance and documentation artifacts.

## Decision

We will automate the generation step via a GitHub workflow that opens a PR with
the regenerated Backstage docs, and require human approval before merge. The
workflow will not auto-merge changes.

## Scope

**Applies to:**
- Backstage doc entity generation (`scripts/generate_backstage_docs.py`)
- Catalog doc outputs under `backstage-helm/catalog/docs/`
- Governance oversight via CODEOWNERS or required reviewers

**Does not apply to:**
- Non-doc automation or runtime changes
- Manual edits to Backstage catalog entities outside the docs scope

## Consequences

### Positive
- Prevents drift between docs and Backstage catalog entities.
- Enforces Human-in-the-Loop review for governance artifacts.

### Tradeoffs / Risks
- Adds PR overhead for routine doc updates.
- Requires a reviewer to keep the catalog fresh.

### Operational impact
- Add a workflow to generate docs and open a PR.
- Ensure CODEOWNERS require a human approval.

## Alternatives considered

1. **Manual runs only** (rejected: drift risk).
2. **Auto-commit to main branch** (rejected: violates HITL policy).
3. **Disable Backstage doc entities** (rejected: reduces visibility).

## Follow-ups

- Implement the PR-based workflow for doc generation.
- Confirm CODEOWNERS coverage for generated catalog docs.
