---
id: ADR-0133
title: 'ADR-0133: Human-in-the-Loop PRs for Backstage Docs Generation'
type: adr
domain: platform-core
value_quantification:
  vq_class: ⚫ LV/LQ
  impact_tier: low
  potential_savings_hours: 0.0
owner: platform-team
lifecycle: active
exempt: false
reliability:
  rollback_strategy: git-revert
  observability_tier: silver
schema_version: 1
relates_to:
  - 01_adr_index
  - 07_AI_AGENT_GOVERNANCE
  - 09_GOVERNANCE_TESTING
  - ADR-0111-platform-documentation-auto-healing
  - ADR-0112-automated-adr-index-generation
  - ADR-0133
  - CL-0093-human-in-the-loop-backstage-docs-prs
  - CL-0094-backstage-docs-pr-workflow
  - CL-0102-backstage-docs-linkout
supersedes: []
superseded_by: []
tags: []
inheritance: {}
supported_until: 2028-01-09
version: 1.0
breaking_change: false
---

## ADR-0133: Human-in-the-Loop PRs for Backstage Docs Generation

- **Status:** Accepted
- **Date:** 2026-01-09
- **Owners:** `platform-team`
- **Decision type:** Governance | Operations

---

## Context

Backstage documentation entities are generated by
`scripts/generate_backstage_docs.py`. Today this step is run manually, which
creates drift risk between the docs (`docs/`) and the Backstage catalog
(`backstage-helm/backstage-catalog/docs/`).

Fully automated commits without review are not acceptable under the platform's
Human-in-the-Loop policy, especially for governance and documentation artifacts.

## Decision

We will automate the generation step via a GitHub workflow that opens a PR with
the regenerated Backstage docs, and require human approval before merge. The
workflow will not auto-merge changes.

## Scope

### Applies to

- Backstage doc entity generation (`scripts/generate_backstage_docs.py`)
- Catalog doc outputs under `backstage-helm/backstage-catalog/docs/`
- Governance oversight via CODEOWNERS or required reviewers

### Does not apply to

- Non-doc automation or runtime changes
- Manual edits to Backstage catalog entities outside the docs scope

## Consequences

### Positive

- Prevents drift between docs and Backstage catalog entities.
- Enforces Human-in-the-Loop review for governance artifacts.

### Tradeoffs / Risks

- Adds PR overhead for routine doc updates.
- Requires a reviewer to keep the catalog fresh.

### Operational impact

- Add a workflow to generate docs and open a PR.
- Ensure CODEOWNERS require a human approval.

## Alternatives considered

1. **Manual runs only** (rejected: drift risk).
2. **Auto-commit to main branch** (rejected: violates HITL policy).
3. **Disable Backstage doc entities** (rejected: reduces visibility).

## Follow-ups

- Implement the PR-based workflow for doc generation.
- Confirm CODEOWNERS coverage for generated catalog docs.

---

**Note (2026-01-26):** References to `backstage-helm/` paths in this document are historical. Per CL-0196, the directory structure was consolidated:
- `backstage-helm/charts/backstage/` → `gitops/helm/backstage/chart/`
- `backstage-helm/backstage-catalog/` → `catalog/`
