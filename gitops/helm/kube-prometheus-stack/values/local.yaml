# Kube-Prometheus-Stack Helm Values - Local Environment (Kind)
# Chart: prometheus-community/kube-prometheus-stack v45.7.1
# Purpose: Local development with minimal resources
governance:
  id: HELM_KUBE_PROMETHEUS_STACK_LOCAL_METADATA
  owner: null
  risk_profile: null
  reliability: null

# -----------------------------------------------------------------------------
# Prometheus
# -----------------------------------------------------------------------------
prometheus:
  prometheusSpec:
    image:
      repository: quay.io/prometheus/prometheus
      tag: v2.47.2
    retention: 24h
    # No persistent storage for local
    storageSpec: {}
    resources:
      requests:
        cpu: 50m
        memory: 256Mi
      limits:
        cpu: 500m
        memory: 512Mi

# -----------------------------------------------------------------------------
# Alertmanager (disabled for local)
# -----------------------------------------------------------------------------
alertmanager:
  enabled: false

# -----------------------------------------------------------------------------
# Grafana
# -----------------------------------------------------------------------------
grafana:
  enabled: true
  image:
    repository: grafana/grafana
    tag: 10.2.3
    pullPolicy: IfNotPresent
  # No persistence for local
  persistence:
    enabled: false
  # Admin password for local
  adminPassword: admin
  sidecar:
    dashboards:
      enabled: true
      label: grafana_dashboard
      searchNamespace: ALL
  service:
    type: NodePort
    nodePort: 30300
  resources:
    requests:
      cpu: 25m
      memory: 64Mi
    limits:
      cpu: 250m
      memory: 256Mi

# -----------------------------------------------------------------------------
# Prometheus Operator
# -----------------------------------------------------------------------------
prometheusOperator:
  image:
    repository: quay.io/prometheus-operator/prometheus-operator
    tag: v0.68.0
  resources:
    requests:
      cpu: 10m
      memory: 32Mi
    limits:
      cpu: 100m
      memory: 128Mi

# -----------------------------------------------------------------------------
# Node Exporter
# -----------------------------------------------------------------------------
nodeExporter:
  enabled: true
  image:
    repository: quay.io/prometheus/node-exporter
    tag: v1.6.1
  resources:
    requests:
      cpu: 5m
      memory: 16Mi
    limits:
      cpu: 50m
      memory: 32Mi

# -----------------------------------------------------------------------------
# Kube State Metrics
# -----------------------------------------------------------------------------
kubeStateMetrics:
  enabled: true
  image:
    repository: registry.k8s.io/kube-state-metrics/kube-state-metrics
    tag: v2.10.1
  resources:
    requests:
      cpu: 5m
      memory: 32Mi
    limits:
      cpu: 50m
      memory: 64Mi

# -----------------------------------------------------------------------------
# Disable components not needed for local
# -----------------------------------------------------------------------------
kubeEtcd:
  enabled: false
kubeControllerManager:
  enabled: false
kubeScheduler:
  enabled: false
kubeProxy:
  enabled: false
