# ECR Pull Secret for Kind Cluster
# This secret must be refreshed every 12 hours (ECR token expiry)
#
# To create/update this secret, run:
#   ./scripts/refresh-ecr-secret.sh
#
# Or manually:
#   aws ecr get-login-password --region eu-west-2 | \
#     kubectl create secret docker-registry ecr-pull-secret \
#       --docker-server=339712971032.dkr.ecr.eu-west-2.amazonaws.com \
#       --docker-username=AWS \
#       --docker-password=$(aws ecr get-login-password --region eu-west-2) \
#       -n apps --dry-run=client -o yaml | kubectl apply -f -
#
apiVersion: v1
kind: Secret
metadata:
  name: ecr-pull-secret
  namespace: apps
  labels:
    app.kubernetes.io/part-of: goldenpath-idp
type: kubernetes.io/dockerconfigjson
data:
  # Placeholder - populated by refresh script
  .dockerconfigjson: e30=
